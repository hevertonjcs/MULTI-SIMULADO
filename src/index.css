@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Nova Paleta Principal */
    --app-background: #EBEBEB; /* Fundo geral da tela */
    --app-text: #1D1A18; /* Cor padrão de texto */
    --app-secondary: #1D1A18; /* Texto principal e elementos escuros */
    --app-primary: #00C696; /* Destaques (botões, links, acentos) */
    --app-primary-dark: #009f85; /* Tom mais escuro para hover/foco em botões primários */
    --app-surface: #FFFFFF; /* Cor de superfície (cards, inputs) */
    --app-error: #D32F2F; /* Cor de mensagem de erro */
    --app-input-border: #DDDDDD; /* Nova borda de input padrão */
    --app-muted-foreground: #525252; /* Textos secundários/muted */

    /* Variáveis específicas do Simulador (Clean Style) */
    --field-background: #FFFFFF;
    --field-border: #DDDDDD;
    --field-text: #1D1A18;
    --field-focus-ring: rgba(0, 198, 150, 0.2); /* Para box-shadow de foco */

    /* Cores para Toasts */
    --toast-success: #00C696; /* Usando a cor primária */
    --toast-error: #D32F2F; 
    --toast-info: #3b82f6; /* Azul para informações gerais */

    /* Shadcn/ui theme variables (adaptadas para a nova paleta) */
    --background: 240 10% 96.1%; /* #EBEBEB */
    --foreground: 224 71.4% 4.1%; /* #1D1A18 */
    
    --card: 0 0% 100%; /* #FFFFFF */
    --card-foreground: 224 71.4% 4.1%; /* #1D1A18 */

    --popover: 0 0% 100%; /* #FFFFFF */
    --popover-foreground: 224 71.4% 4.1%; /* #1D1A18 */

    --primary: 166 100% 39%; /* #00C696 */
    --primary-foreground: 0 0% 100%; /* White for better contrast on primary */

    --secondary: 224 71.4% 4.1%; /* #1D1A18 */
    --secondary-foreground: 0 0% 100%; /* White for contrast on secondary */

    --muted: 220 14.3% 95.9%; /* Um cinza claro para muted, derivado de #EBEBEB */
    --muted-foreground: 220 8.9% 43.1%; /* Cinza mais escuro para texto muted */

    --accent: 166 100% 39%; /* #00C696 (mesmo que primary) */
    --accent-foreground: 0 0% 100%;

    --destructive: 0 72.2% 50.6%; /* #D32F2F */
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 86.7%; /* #DDDDDD */
    --input: 0 0% 86.7%; /* #DDDDDD */
    --ring: 166 100% 39%; /* #00C696 (para foco) */

    --radius: 0.5rem; /* 8px */
  }

  .dark {
    /* Manter uma paleta escura para componentes shadcn/ui se necessário, ou adaptar */
    --app-background: #1D1A18;
    --app-text: #EBEBEB;
    --app-secondary: #EBEBEB;
    --app-primary: #00C696;
    --app-primary-dark: #009f85;
    --app-surface: #2a2725; 
    --app-error: #ef4444; 
    --app-input-border: #44403c; 
    --app-muted-foreground: #a1a1aa;

    --field-background: #2a2725;
    --field-border: #44403c;
    --field-text: #EBEBEB;
    --field-focus-ring: rgba(0, 198, 150, 0.3);

    --toast-success: #00C696;
    --toast-error: #ef4444;
    --toast-info: #60a5fa;

    --background: 224 71.4% 4.1%;
    --foreground: 210 20% 98%;
    
    --card: 224 71.4% 4.1%;
    --card-foreground: 210 20% 98%;

    --popover: 224 71.4% 4.1%;
    --popover-foreground: 210 20% 98%;

    --primary: 166 100% 39%; 
    --primary-foreground: 224 71.4% 4.1%;

    --secondary: 215 27.9% 16.9%; 
    --secondary-foreground: 210 20% 98%;

    --muted: 215 27.9% 16.9%;
    --muted-foreground: 217.9 10.6% 64.9%; 

    --accent: 166 100% 39%; 
    --accent-foreground: 224 71.4% 4.1%; 

    --destructive: 0 62.8% 50.6%;
    --destructive-foreground: 210 20% 98%;

    --border: 215 27.9% 16.9%;
    --input: 215 27.9% 16.9%;
    --ring: 166 100% 39%;
  }
}

@layer base {
  * {
    @apply border-border; 
  }
  body {
    @apply bg-app-background text-app-text;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-family: 'Inter', sans-serif; 
  }
}

@layer components {
  /* Inputs and Selects */
  .input-field, .select-trigger-field {
    @apply bg-field-background border-2 border-field-border text-field-text rounded-lg
           placeholder:text-app-muted-foreground 
           focus:outline-none focus:ring-2 focus:ring-app-primary focus:border-app-primary 
           focus:shadow-field-focus
           transition-all duration-200;
  }
  .input-field {
     @apply px-3 py-2 h-10;
  }
  .select-trigger-field {
    @apply px-3 py-2 h-10 flex items-center justify-between;
  }
   .select-content-field {
    @apply bg-field-background border-2 border-field-border text-field-text rounded-lg shadow-lg;
  }
  .select-item-field {
    @apply hover:bg-app-primary-hover focus:bg-app-primary-focus text-field-text;
  }

  /* Tabs */
  .tab-trigger-field {
    @apply inline-flex items-center justify-center whitespace-nowrap rounded-lg px-3 py-2 text-sm font-medium 
           transition-all duration-200
           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-app-primary focus-visible:ring-offset-2
           data-[state=active]:bg-app-primary data-[state=active]:text-white data-[state=active]:shadow-md
           data-[state=inactive]:bg-app-surface data-[state=inactive]:text-app-text hover:bg-app-primary-hover;
  }
  .tab-list-field {
     @apply inline-flex h-auto items-center justify-center rounded-lg bg-app-surface p-1;
  }

  /* Checkbox */
  .form-checkbox {
    @apply appearance-none p-2 border-2 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-0;
    @apply border-field-border bg-field-background text-app-primary focus:ring-app-primary focus:ring-offset-app-background;
  }
  .form-checkbox:checked {
      @apply bg-app-primary border-transparent;
      background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
  }

  /* Logo and Title */
  .logo-simulador {
    @apply block mx-auto mb-4; 
    max-width: 160px; /* Mantido para consistência */
    height: auto;
  }
  .titulo-sistema { 
    @apply text-app-secondary;
  }
  
  /* App Structure */
  .app-container {
    @apply min-h-screen bg-app-background text-app-text flex flex-col transition-colors duration-500;
  }
  .app-header {
    @apply flex justify-between items-center p-4 shadow-sm;
  }
  .app-main {
    @apply flex-1 flex items-center justify-center p-4 pb-20 sm:pb-16;
  }
  .app-footer {
    @apply flex-shrink-0 py-4 px-4 text-center text-xs text-app-muted-foreground bg-app-background border-t border-app-input-border;
  }

  /* Buttons */
  .header-button {
    @apply bg-transparent hover:bg-app-primary-hover hover:text-app-primary border-app-primary-border;
  }
  .header-button-icon {
    @apply h-4 w-4 transition-transform duration-200;
  }
  .logout-button {
    @apply text-app-primary border-app-primary hover:bg-app-primary hover:text-white transition-all;
  }

  /* Screens & Containers */
  .login-screen-container {
    @apply w-full max-w-md flex flex-col items-center;
  }
  .login-form-container {
    @apply w-full p-6 sm:p-8 bg-app-surface shadow-xl rounded-lg;
  }
  .simulation-screen-container {
    @apply w-full max-w-2xl bg-app-surface p-4 sm:p-6 md:p-8 rounded-lg shadow-xl;
  }
  .simulation-header {
    @apply flex justify-between items-center mb-6;
  }
  .simulation-title {
    @apply text-lg sm:text-xl md:text-2xl font-semibold text-app-secondary;
  }
  
  /* Loading and Error States */
  .loading-fallback {
    @apply flex flex-col justify-center items-center h-64 text-app-muted-foreground;
  }
  .loading-fallback-icon {
    @apply h-8 w-8 animate-spin text-app-primary mb-2;
  }
  .loading-fallback-text {
    @apply ml-2;
  }
  .settings-error-container {
    @apply flex flex-col items-center justify-center h-64 text-app-error;
  }
  .settings-error-icon {
    @apply h-12 w-12 mb-4;
  }
  .settings-error-title {
    @apply text-lg font-semibold;
  }
  .settings-error-message {
    @apply text-sm text-center;
  }
  .settings-error-button {
    @apply mt-4 bg-app-primary hover:bg-app-primary-dark text-primary-foreground;
  }

  /* Dialog */
  .dialog-content {
    @apply rounded-2xl;
  }

  /* Toasts (especificando a classe para sucesso) */
  .toast-success-custom {
    @apply bg-app-primary text-primary-foreground;
  }
}

/* Responsividade específica para mobile */
@media (max-width: 640px) {
  .logo-simulador {
    max-width: 140px;
  }
  
  /* Garantir espaçamento adequado nos botões em mobile */
  .simulation-buttons {
    @apply flex flex-col gap-3;
  }
  
  /* Ajustar padding do container principal em mobile */
  .simulation-container {
    @apply p-3;
  }
}

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: hsl(var(--background) / 0.5);
  border-radius: 10px;
}
::-webkit-scrollbar-thumb {
  background: hsl(var(--primary) / 0.7);
  border-radius: 10px;
}
::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--primary));
}